---
title: ""
emoji: "📑"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: []
published: false
---

# Firebase 環境設定

chromeの拡張機能を作成しており、google認証を使いたくなったので、実装過程のメモです。

## ブラウザから google 認証用のプロジェクトを作成

![](https://storage.googleapis.com/zenn-user-upload/e0503710ca1bed1a878286df.png)

![](https://storage.googleapis.com/zenn-user-upload/14f963cb9d91303d9d19bf7a.png)

![](https://storage.googleapis.com/zenn-user-upload/7159d94c9f428df152863874.png)

- プロジェクトのサポートメールを指定して保存をクリック

![](https://storage.googleapis.com/zenn-user-upload/b2ac683d866ecc136eb57cf9.png)

- Google のステータスが有効になっていることを確認する

## 実際に使ってみる

以下のドキュメントを参考に yarn で環境設定を行う  
https://firebase.google.com/docs/web/setup?authuser=0

### Firebase javaScript SDK をインストールする

```sh
$ yarn add firebase
```

### 認証機能を利用する準備

あらかじめ必要な値は環境変数に切り出しておく
package.json が存在する階層と同様の場所に.envを作成する
```
REACT_APP_FIREBASE_WEB_API_KEY=
REACT_APP_FIREBASE_AUTH_DOMAIN=
REACT_APP_FIREBASE_DATABASE_URL=
REACT_APP_FIREBASE_DATABASE_URL=
REACT_APP_FIREBASE_SENDER_ID=
REACT_APP_FIREBASE_APP_ID=

```


とりあえず公開したくない情報は環境変数に入れたので、それを読み込む

```js
const firebaseConfig = {
  apiKey: process.env.REACT_APP_FIREBASE_WEB_API_KEY,
  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,
  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,
  projectId: process.env.REACT_APP_FIREBASE_DATABASE_URL,
  messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,
  appId: process.env.REACT_APP_FIREBASE_APP_ID,
}
```

テンプレートに沿って必要情報を入力する
認証の実装を試しに実装してみる
```js
import firebase from 'firebase/app'
import 'firebase/auth'

const firebaseConfig = {
  apiKey: process.env.REACT_APP_FIREBASE_WEB_API_KEY,
  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,
  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,
  projectId: process.env.REACT_APP_FIREBASE_DATABASE_URL,
  messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,
  appId: process.env.REACT_APP_FIREBASE_APP_ID,
}

firebase.initializeApp(config)

export default firebase
```

